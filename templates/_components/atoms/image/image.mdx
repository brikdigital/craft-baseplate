import dedent from "dedent";
import { match } from "ts-pattern";
import { Canvas, Title, Subtitle, ArgTypes, Source, Meta, Description, Primary, Story, Stories, Controls } from '@storybook/blocks';
import * as comStories from './image.stories.json';
import templateSource from './image.twig?raw';

<Meta of={comStories} name="Docs"/>

<Title />
<Subtitle />
<Description />

<Primary />

## Properties
<Controls />

<Stories of={comStories} />

### Examples

An image with all required values.

<Source
    language="twig"
    code={dedent`
        {% include "_components/atoms/image/image.twig" with {\n${
            Object.keys(comStories.default.argTypes).map(key => {
                let value = comStories.default.argTypes[key].defaultValue;
                return `    ${key}: '${value}'`
            }).join(',\n        ')}
        } %}
    `}
/>

## Source code
[//]: # (Twig Template source code)
<Source code={templateSource} />
